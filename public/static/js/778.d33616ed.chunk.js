"use strict";(self.webpackChunkgadel=self.webpackChunkgadel||[]).push([[778],{9831:function(e,t,s){s.d(t,{Z:function(){return u}});var n=s(9439),a=s(7313),i=s(4750),r=s(6417),o=(0,i.Z)((0,r.jsx)("path",{d:"M20 24H4c-1.1 0-2-.9-2-2s.9-2 2-2h16c1.1 0 2 .9 2 2s-.9 2-2 2zM13.06 5.19l3.75 3.75-8.77 8.77c-.18.19-.44.29-.7.29H5c-.55 0-1-.45-1-1v-2.34c0-.27.11-.52.29-.71l8.77-8.76zm4.82 2.68-3.75-3.75 1.83-1.83c.39-.39 1.02-.39 1.41 0l2.34 2.34c.39.39.39 1.02 0 1.41l-1.83 1.83z"}),"BorderColorRounded"),c=s(3814),l=(0,i.Z)((0,r.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.9 13.98l2.1 2.53 3.1-3.99c.2-.26.6-.26.8.01l3.51 4.68c.25.33.01.8-.4.8H6.02c-.42 0-.65-.48-.39-.81L8.12 14c.19-.26.57-.27.78-.02z"}),"InsertPhotoRounded");function u(e){var t=(0,a.useState)(""),s=(0,n.Z)(t,2),i=s[0],u=s[1],m=(0,a.useState)(""),d=(0,n.Z)(m,2),p=d[0],f=d[1],h=(0,a.useState)(null),v=(0,n.Z)(h,2),x=v[0],b=v[1],N=(0,a.useRef)(null);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"create-post-container-wrapp  shadow-lg w-full xl:w-[48%] mx-2 mb-4",children:[(0,r.jsxs)("div",{className:"create-post-container",children:[(0,r.jsx)("div",{className:"header-icon-container",children:(0,r.jsx)(o,{className:"small-icon"})}),(0,r.jsx)("div",{className:"create-post",children:(0,r.jsx)("input",{type:"text",placeholder:"Create Post",onChange:function(e){u(e.target.value)}})})]}),(0,r.jsxs)("div",{className:"post-container aspect-[5/3] !mx-0",children:[(0,r.jsx)("div",{className:"header-icon-container !p-0",children:(0,r.jsx)("img",{src:e.userImage,className:"user-image w-full h-full"})}),(0,r.jsx)("textarea",{placeholder:"What's on your mind?",className:"new-post-input",onChange:function(e){f(e.target.value)}})]}),(0,r.jsxs)("div",{className:"new-post-buttons",children:[(0,r.jsxs)("div",{className:"new-post-buttons-left",children:[(0,r.jsxs)("div",{className:"new-post-button min-w-[120px] !mx-0",children:[(0,r.jsx)(c.Z,{className:"new-post-icon"}),(0,r.jsx)("div",{className:"new-post-text",children:"Live Video"})]}),(0,r.jsxs)("div",{className:"new-post-button !mx-0 !ml-2",onClick:function(e){return N.current.click()},children:[(0,r.jsx)(l,{className:"new-post-icon"}),(0,r.jsx)("div",{className:"new-post-text",children:"Photo/Video"}),(0,r.jsx)("input",{type:"file",className:"hidden",onChange:function(e){b(e.target.files[0])},ref:N})]})]}),(0,r.jsx)("div",{className:"submit-button",onClick:function(){var t=2048;null==e.maxTitle||isNaN(Number(e.maxTitle))||(t=Number(e.maxTitle));var s=0;null==e.minTitle||isNaN(Number(e.minTitle))||(s=Number(e.minTitle));var n=0;null==e.minText||isNaN(Number(e.minText))||(n=Number(e.minText));var a=999999;null==e.maxText||isNaN(Number(e.maxText))||(a=Number(e.maxText));var r=!1;null==e.fileRequired||isNaN(Number(e.fileRequired))||(r=Number(e.fileRequired));var o={status:!0,message:"",data:{title:i,text:p,file:x}};i.length>t?(o.message="Title max length is ".concat(t),o.status=!1):i.length<s?(o.message="Title min length is ".concat(s),o.status=!1):p.length>a?(o.message="Text max length is ".concat(a),o.status=!1):p.length<n?(o.message="Text min length is ".concat(n),o.status=!1):r&&null==x&&(o.message="Please select Photo or Video",o.status=!1),e.onSubmit(o)},children:"Submit"})]})]})})}},5032:function(e,t,s){s.d(t,{Z:function(){return m}});var n=s(4750),a=s(6417),i=(0,n.Z)((0,a.jsx)("path",{d:"m10.5 17.15 3.98-2.28c.67-.38.67-1.35 0-1.74l-3.98-2.28c-.67-.38-1.5.11-1.5.87v4.55c0 .77.83 1.26 1.5.88zM21 6h-7.59l2.94-2.94c.2-.2.2-.51 0-.71s-.51-.2-.71 0L12 5.99 8.36 2.35c-.2-.2-.51-.2-.71 0s-.2.51 0 .71L10.59 6H3c-1.1 0-2 .89-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.11-.9-2-2-2zm-1 14H4c-.55 0-1-.45-1-1V9c0-.55.45-1 1-1h16c.55 0 1 .45 1 1v10c0 .55-.45 1-1 1z"}),"LiveTvRounded"),r=(0,n.Z)((0,a.jsx)("path",{d:"M13.35 20.13c-.76.69-1.93.69-2.69-.01l-.11-.1C5.3 15.27 1.87 12.16 2 8.28c.06-1.7.93-3.33 2.34-4.29 2.64-1.8 5.9-.96 7.66 1.1 1.76-2.06 5.02-2.91 7.66-1.1 1.41.96 2.28 2.59 2.34 4.29.14 3.88-3.3 6.99-8.55 11.76l-.1.09z"}),"FavoriteRounded"),o=(0,n.Z)((0,a.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}),"FavoriteBorder"),c=(0,n.Z)((0,a.jsx)("path",{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM17 14H7c-.55 0-1-.45-1-1s.45-1 1-1h10c.55 0 1 .45 1 1s-.45 1-1 1zm0-3H7c-.55 0-1-.45-1-1s.45-1 1-1h10c.55 0 1 .45 1 1s-.45 1-1 1zm0-3H7c-.55 0-1-.45-1-1s.45-1 1-1h10c.55 0 1 .45 1 1s-.45 1-1 1z"}),"CommentRounded"),l=(0,n.Z)((0,a.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V18c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-1.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05.02.01.03.03.04.04 1.14.83 1.93 1.94 1.93 3.41V18c0 .35-.07.69-.18 1H22c.55 0 1-.45 1-1v-1.5c0-2.33-4.67-3.5-7-3.5z"}),"PeopleRounded"),u=s(1169);function m(e){return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"post-wrap shadow-lg w-full xl:w-[48%] mx-2 mb-4",children:[(0,a.jsxs)("div",{className:"post-row",children:[(0,a.jsxs)("div",{className:"post-info",children:[(0,a.jsx)("div",{className:"header-icon-container !ml-0 !p-0",children:(0,a.jsx)("img",{src:u,className:"user-image"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"posted-by",children:e.postedBy}),(0,a.jsx)("div",{className:"posted-location-text",children:e.location})]})]}),e.isLive&&(0,a.jsxs)("div",{className:"live-container",children:[(0,a.jsx)(i,{className:"live-icon"}),(0,a.jsx)("div",{className:"live-text",children:"Live"})]})]}),(0,a.jsx)("img",{src:e.img,className:"post-img aspect-[5/3]"}),(0,a.jsxs)("div",{className:"post-footer",children:[(0,a.jsxs)("div",{className:"post-bottom-info",children:[e.isFavorite?(0,a.jsx)(r,{className:"post-footer-icon",onClick:function(){return e.handleLikePost()}}):(0,a.jsx)(o,{className:"post-footer-icon",onClick:function(){return e.handleLikePost()}}),(0,a.jsx)("div",{className:"post-footer-text !ml-2",children:e.numberOfLikes})]}),(0,a.jsxs)("div",{className:"post-bottom-info ml-6",children:[(0,a.jsx)(c,{className:"post-footer-icon"}),(0,a.jsx)("div",{className:"post-footer-text !ml-2",children:e.numberOfComments})]}),(0,a.jsxs)("div",{className:"post-bottom-info ml-6",children:[(0,a.jsx)(l,{className:"post-footer-icon"}),(0,a.jsx)("div",{className:"post-footer-text !ml-2",children:e.numberOfViews})]})]})]},e.postId)})}},2972:function(e,t,s){s.d(t,{v:function(){return a}});var n=s.p+"static/media/post.4fbdf1a8931f76d092f3.jpeg",a=[{id:1,postedBy:"Rihanna Grace",location:"New York, US",isLive:!0,img:n,isFavorite:!0,numberOfLikes:96,numberOfComments:50,numberOfViews:23},{id:2,postedBy:"Rihanna Grace",location:"New York, US",isLive:!1,img:n,isFavorite:!1,numberOfLikes:65,numberOfComments:45,numberOfViews:13},{id:3,postedBy:"Rihanna Grace",location:"New York, US",isLive:!1,img:n,isFavorite:!0,numberOfLikes:51,numberOfComments:21,numberOfViews:11},{id:4,postedBy:"Rihanna Grace",location:"New York, US",isLive:!0,img:n,isFavorite:!1,numberOfLikes:101,numberOfComments:36,numberOfViews:40},{id:5,postedBy:"Rihanna Grace",location:"New York, US",isLive:!0,img:n,isFavorite:!1,numberOfLikes:101,numberOfComments:36,numberOfViews:40},{id:6,postedBy:"Rihanna Grace",location:"New York, US",isLive:!0,img:n,isFavorite:!1,numberOfLikes:101,numberOfComments:36,numberOfViews:40},{id:8,postedBy:"Rihanna Grace",location:"New York, US",isLive:!0,img:n,isFavorite:!1,numberOfLikes:101,numberOfComments:36,numberOfViews:40},{id:9,postedBy:"Rihanna Grace",location:"New York, US",isLive:!0,img:n,isFavorite:!1,numberOfLikes:101,numberOfComments:36,numberOfViews:40},{id:10,postedBy:"Rihanna Grace",location:"New York, US",isLive:!0,img:n,isFavorite:!1,numberOfLikes:101,numberOfComments:36,numberOfViews:40},{id:11,postedBy:"Rihanna Grace",location:"New York, US",isLive:!0,img:n,isFavorite:!1,numberOfLikes:101,numberOfComments:36,numberOfViews:40}]},6660:function(e,t,s){s.r(t),s.d(t,{default:function(){return F}});var n=s(4165),a=s(3433),i=s(5861),r=s(9439),o=s(7313),c=s(8467),l=s(2707),u=(s(2972),s(9831)),m=s(5032),d=s(1169),p=s(8359),f=s(5077),h=s(3144),v=s(5671),x=s(6603),b=(0,h.Z)((function e(){(0,v.Z)(this,e),this.createPost=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Promise((function(n,a){try{var i=new FormData;i.append("title",e),i.append("description",t),null!==s&&i.append("file",s),(0,f.Z)("".concat(x.Xd.baseUrl).concat(x.Xd.post.createPost),{method:"POST",headers:{"Content-Type":"application/json",Accept:"*/*"},data:i}).then((function(e){200===e.status?n(e.data):e.reject(e.data)}))}catch(r){a(r)}}))},this.getPosts=function(e,t,s){return new Promise((function(e,t){try{console.log("".concat(x.Xd.baseUrl,"/").concat(x.Xd.post.getPosts)),(0,f.Z)("".concat(x.Xd.baseUrl,"/").concat(x.Xd.post.getPosts),{method:"GET",headers:{"Content-Type":"application/json",Accept:"*/*"}}).then((function(t){e(t.data)})).catch((function(e){t(e)}))}catch(s){t(s)}}))}})),N=new b,j="@post/post-success",w="@post/post-failure",g="@post/post-get-success",k="@post/post-get-failre";function y(e,t,s){return Z.apply(this,arguments)}function Z(){return(Z=(0,i.Z)((0,n.Z)().mark((function e(t,s,a){var i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.createPost(t,s,a);case 3:return i=e.sent,e.abrupt("return",{type:j,payload:{post:i}});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{type:w});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function O(e,t,s){return L.apply(this,arguments)}function L(){return(L=(0,i.Z)((0,n.Z)().mark((function e(t,s,a){var i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.getPosts(t,s,a);case 3:return i=e.sent,e.abrupt("return",{type:g,payload:{posts:i}});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{type:k});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var C=s(4908),S=s(6417);var F=function(){(0,c.s0)();var e=(0,o.useState)([]),t=(0,r.Z)(e,2),s=t[0],f=t[1],h=(0,o.useState)(!1),v=(0,r.Z)(h,2),b=v[0],N=v[1],w=(0,o.useState)(""),k=(0,r.Z)(w,2),Z=k[0],L=k[1],F=(0,o.useState)(!1),T=(0,r.Z)(F,2),R=T[0],V=T[1],z=(0,o.useState)(0),P=(0,r.Z)(z,2);P[0],P[1],(0,o.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(!0),e.prev=1,e.next=4,O(JSON.parse(C.Z.getUser())._id,0,0);case 4:(t=e.sent).type==g&&(f((0,a.Z)(t.payload.posts.data)),V(!1)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),V(!1);case 11:V(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var B=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=s[t]).isFavorite=!a.isFavorite,a.isFavorite?a.numberOfLikes=a.numberOfLikes+1:a.numberOfLikes=a.numberOfLikes-1,s[t]=a;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N(!t.status),V(!0),0!=t.status){e.next=6;break}L(t.message),e.next=12;break;case 6:return e.next=8,y(t.data.title,t.data.text,t.data.file);case 8:(i=e.sent).type==j&&i.payload&&i.payload.post&&i.payload.post.state&&f([].concat((0,a.Z)(s),[i.payload.post.post])),N(!0),L(i.payload.post.data);case 12:V(!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,S.jsxs)("div",{className:"",style:{position:"relative"},children:[(0,S.jsx)(l.h4,{type:"home"}),(0,S.jsxs)("div",{className:"home main relative flex justify-around md:justify-start",children:[(0,S.jsx)(l.YE,{active:"home"}),(0,S.jsxs)("div",{className:"w-[100%] sm:w-[80%] md:w-[60%] lg:w-[50] xl:w-full  py-4 px-2 flex flex-wrap",children:[(0,S.jsx)(u.Z,{onSubmit:U,userImage:d}),s&&s.length>0&&s.map((function(e,t){return(0,S.jsx)(m.Z,{postId:e._id,img:"".concat(x.Xd.baseUrl,"/").concat(e.file_path),postedBy:e.postedBy,location:e.location,isLive:e.isLive,isFavorite:e.isFavorite,numberOfLikes:e.like,numberOfComments:e.comments.length,numberOfViews:e.views,handleLikePost:function(){return B(t)}},t+1)}))]})]}),(0,S.jsx)(l.$_,{}),(0,S.jsx)(p.Z,{open:b,autoHideDuration:6e3,onClose:function(){return N(!1)},message:Z}),(0,S.jsx)("div",{className:"loading-spin "+(R?"active":"")})]})}}}]);